{"name":"WebMention 0.1","tagline":"","body":"A modern alternative to [Pingback](http://www.hixie.ch/specs/pingback/pingback).\r\n\r\n\r\n### Versions\r\n\r\n#### Latest Version:\r\nhttp://webmention.org\r\n\r\n\r\n### Editors\r\n* Sandeep Shetty (sandeep.shetty@gmail.com)\r\n\r\n### Contributors\r\n* Aaron Parecki (aaron@parecki.com)\r\n\r\n### Copyright\r\nAll contributions to this specification are released into the public domain.\r\n\r\n\r\n## Protocol Flow\r\n\r\n### Sender discovers Receiver Endpoint\r\n\r\n```http\r\nGET /bob/post/2 HTTP/1.1\r\nHost: bobs.host\r\n```\r\n```http\r\nHTTP/1.1 200 OK\r\nLink: <http://bobs.host/webmention-endpoint>; rel=\"http://webmention.org/\"\r\n\r\n<html>\r\n...\r\n<link href=\"http://bobs.host/webmention-endpoint\" rel=\"http://webmention.org/\" />\r\n...\r\n```\r\n\r\n\r\n### Sender Notifies Receiver\r\n\r\n```http\r\nPOST /webmention-endpoint HTTP/1.1\r\nHost: bobs.host\r\nContent-Type: application/x-www-url-form-encoded\r\n\r\nsource=http://alices.host/alice/post/42&\r\ntarget=http://bobs.host/bob/post/2\r\n```\r\n```http\r\nHTTP/1.1 202 Accepted\r\n```\r\n\r\n### Verification\r\n`bobs.host` SHOULD check that `target` is a valid resource belonging to it and then perform a `GET` on `source` and confirm that it actually links to `target`.\r\n\r\n**Note**: Might look for [rel=\"in-reply-to\"](http://microformats.org/wiki/comment-brainstorming#hAtom_and_in-reply-to), or just the link itself somewhere on the page.\r\n\r\n## Response\r\n\r\n### Success\r\n\r\nIf the WebMention request was successful, the server MUST reply with an `HTTP 202 Accepted` response code. The body of the response is left undefined, but is recommended to return a message indicating the pingback was successful and should respect the content-type of the `Accept` header. If no `Accept` header is present, an HTML success body may be returned. It is also valid to not send any body in the response.\r\n\r\nFor example, typical responses may look like the following:\r\n\r\n#### HTML\r\n\r\n```http\r\nPOST /webmention-endpoint HTTP/1.1\r\nHost: bobs.host\r\nContent-Type: application/x-www-url-form-encoded\r\n\r\nsource=http://alices.host/alice/post/42&\r\ntarget=http://bobs.host/bob/post/2\r\n```\r\n```http\r\nHTTP/1.1 202 Accepted\r\nContent-Type: text/html\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <title>WebMention</title>\r\n  </head>\r\n  <body>\r\n\t<p>WebMention was successful</p>\r\n  </body>\r\n</html>\r\n```\r\n\r\n#### JSON\r\n\r\n```http\r\nPOST /webmention-endpoint HTTP/1.1\r\nHost: bobs.host\r\nContent-Type: application/x-www-url-form-encoded\r\nAccept: application/json\r\n\r\nsource=http://alices.host/alice/post/42&\r\ntarget=http://bobs.host/bob/post/2\r\n```\r\n```http\r\nHTTP/1.1 202 Accepted\r\nContent-Type: application/json\r\n\r\n{\r\n  \"result\": \"WebMention was successful\"\r\n}\r\n```\r\n\r\n\r\n### Errors\r\n\r\nIn addition to the standard HTTP status codes that may be returned for things like malformed requests, WebMention defines several error cases that must be handled.\r\n\r\nAll errors below MUST be returned with an `HTTP 400 Bad Request` response code.\r\n\r\n* `source_not_found`: The source URI does not exist.\r\n* `target_not_found`: The target URI does not exist. This must only be used when an external GET on the target URI would result in an `HTTP 404` response.\r\n* `target_not_supported`: The specified target URI is not a WebMention-enabled resource. For example, on a blog, individual post pages may be WebMention-enabled but the home page may not.\r\n* `no_link_found`: The source URI does not contain a link to the target URI.\r\n* `already_registered`: The specified WebMention has already been registered.\r\n\r\nThe format of the error body should respect the content-type in the `Accept` header. If no `Accept` header is present, it is acceptable to return an HTML body with a description of the error.\r\n\r\n#### HTML\r\n\r\n```http\r\nPOST /webmention-endpoint HTTP/1.1\r\nHost: bobs.host\r\nContent-Type: application/x-www-url-form-encoded\r\n\r\nsource=http://alices.host/alice/post/42&\r\ntarget=http://bobs.host/bob/post/2\r\n```\r\n```http\r\nHTTP/1.1 400 Bad Request\r\nContent-Type: text/html\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <title>WebMention Error</title>\r\n  </head>\r\n  <body>\r\n    <h2>no_link_found</h2>\r\n    <p>The source URI does not contain a link to the target URI</p>\r\n  </body>\r\n</html>\r\n```\r\n\r\n#### JSON\r\n\r\n```http\r\nPOST /webmention-endpoint HTTP/1.1\r\nHost: bobs.host\r\nContent-Type: application/x-www-url-form-encoded\r\nAccept: application/json\r\n\r\nsource=http://alices.host/alice/post/42&\r\ntarget=http://bobs.host/bob/post/2\r\n```\r\n```http\r\nHTTP/1.1 400 Bad Request\r\n\r\n{\r\n  \"error\": \"no_link_found\",\r\n  \"error_description\": \"The source URI does not contain a link to the target URI\"\r\n}\r\n```\r\n\r\n\r\n\r\n## Preventing Spam and Abuse\r\n* The verification process SHOULD be queued to prevent DDOS attacks.\r\n* WebMention receivers SHOULD moderate WebMentions, and if a link is displayed back to the source, SHOULD link to `source` with `rel=\"nofollow\"` to prevent spam.\r\n* Receivers MAY periodically re-verify that `source` links to `target`, and remove visible links if source no longer links to target.\r\n\r\n\r\n\r\n## See also\r\n\r\n* [Pingback](http://www.hixie.ch/specs/pingback/pingback)\r\n* [Trackback](http://archive.cweiske.de/trackback/trackback-1.2.html)\r\n* [RESTful Pingback](http://www.w3.org/wiki/Pingback)\r\n* [Semantic Pingback](http://aksw.org/projects/semanticpingback)\r\n* [TalkBack](http://elie.im/publication/reclaiming-the-blogosphere-talkBack-a-secure-linkBack-protocol-for-weblogs#.UIWq_k4geoM)\r\n\r\n## Let's collaborate\r\nFeel free to [file an issue](https://github.com/converspace/webmention/issues) if you have feedback/questions/suggestions.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}